{% load slippers %}

{% fragment as notice_icon %}<i class="fa-solid fa-bullhorn fa-fw"></i>{% endfragment %}
{% fragment as dashboard_icon %}<i class="fa-solid fa-list fa-fw"></i>{% endfragment %}
{% fragment as psat_icon %}<i class="fa-solid fa-layer-group fa-fw"></i>{% endfragment %}
{% fragment as problem_icon %}<i class="fa-file-lines fa-fw fa-regular"></i>{% endfragment %}
{% fragment as like_icon %}<i class="fa-heart fa-fw fa-regular"></i>{% endfragment %}
{% fragment as rate_icon %}<i class="fa-star fa-fw fa-regular"></i>{% endfragment %}
{% fragment as answer_icon %}<i class="fa-circle-check fa-fw fa-regular"></i>{% endfragment %}
{% fragment as schedule_icon %}<i class="fa-regular fa-calendar-days fa-fw"></i>{% endfragment %}
{% fragment as score_icon %}<i class="fa-solid fa-chart-simple fa-fw"></i>{% endfragment %}

<!-- ======= Sidebar ======= -->
<aside id="sidebar" class="sidebar"
       hx-push-url="true" hx-target="#main" hx-swap="innerHTML swap:0.25s">
    <ul id="sidebar-nav" class="sidebar-nav">
        {% if user.is_authenticated %}
            <li class="nav-item">
                <a id="noticeList" class="nav-link collapsed"
                   href="{% url 'notice:base' %}" hx-post="{% url 'notice:base' %}">
                    {{ notice_icon|safe }}<span>Notice</span>
                </a>
            </li><!-- Notice Nav End -->

            <li class="nav-item">
                <a id="dashboardList" class="nav-link collapsed"
                   href="{% url 'dashboard:base' %}" hx-post="{% url 'dashboard:base' %}">
                    {{ dashboard_icon|safe }}<span>Dashboard</span>
                </a>
            </li><!-- Dashboard Nav End -->

            <li class="nav-item" role="menuitem" aria-label="PSAT Menu">
                <a class="nav-link collapsed" href="" aria-expanded="false"
                   data-bs-target="#psat-nav" data-bs-toggle="collapse">
                    {{ psat_icon|safe }}<span>PSAT</span>
                    <i class="fa-solid fa-chevron-down ms-auto"></i>
                </a>
                <ul id="psat-nav" class="nav-content collapse" data-bs-parent="#sidebar-nav">
                    <li>
                        <a id="problemList" class="aside-nav-icon"
                           href="{% url 'psat_v2:list' 'problem' %}"
                           hx-post="{% url 'psat_v2:list' 'problem' %}">
                            {{ problem_icon|safe }}<span>기출문제</span>
                        </a>
                        <a id="likeList" class="aside-nav-icon"
                           href="{% url 'psat_v2:list' 'like' %}"
                           hx-post="{% url 'psat_v2:list' 'like' %}">
                            {{ like_icon|safe }}<span>즐겨찾기</span>
                        </a>
                        <a id="rateList" class="aside-nav-icon"
                           href="{% url 'psat_v2:list' 'rate' %}"
                           hx-post="{% url 'psat_v2:list' 'rate' %}">
                            {{ rate_icon|safe }}<span>난이도</span>
                        </a>
                        <a id="answerList" class="aside-nav-icon"
                           href="{% url 'psat_v2:list' 'solve' %}"
                           hx-post="{% url 'psat_v2:list' 'solve' %}">
                            {{ answer_icon|safe }}<span>정답확인</span>
                        </a>
                    </li>
                </ul>
            </li><!-- PSAT Nav End -->

            <li class="nav-item">
                <a id="scheduleList" class="nav-link collapsed"
                   href="{% url 'schedule:base' %}" hx-post="{% url 'schedule:base' %}">
                    {{ schedule_icon|safe }}<span>Schedule</span>
                </a>
            </li><!-- Schedule Nav End -->

            {% if user.is_admin or user.is_staff %}
                <li class="nav-item" role="menuitem" aria-label="Score Menu">
                    <a class="nav-link collapsed" href="" aria-expanded="false"
                       data-bs-target="#score-nav" data-bs-toggle="collapse">
                        {{ score_icon|safe }}<span>Score</span>
                        <i class="fa-solid fa-chevron-down ms-auto"></i>
                    </a>
                    <ul id="score-nav" class="nav-content collapse" data-bs-parent="#sidebar-nav">
                        <li>
                            <a id="psatScore" class="aside-nav-icon"
                               href="{% url 'score_v2:list' %}"
                               hx-post="{% url 'score_v2:list' %}">
                                {{ problem_icon|safe }}<span>PSAT 기출문제</span>
                            </a>
                            <a id="primeScore" class="aside-nav-icon"
                               href="{% url 'score_prime:list' %}"
                               hx-post="{% url 'score_prime:list' %}">
                                {{ like_icon|safe }}<span>프라임 모의고사</span>
                            </a>
                        </li>
                    </ul>
                </li><!-- Score Nav End -->
            {% endif %}

        {% else %}
            <li class="nav-item">
                <a id="noticeList" class="nav-link collapsed"
                   href="{% url 'notice:base' %}" hx-post="{% url 'notice:base' %}">
                    {{ notice_icon|safe }}<span>Notice</span>
                </a>
            </li><!-- Notice Nav End -->
            <li class="nav-item">
                <a id="problemList" class="nav-link collapsed"
                   href="{% url 'psat_v2:base' %}" hx-post="{% url 'psat_v2:base' %}">
                    {{ psat_icon|safe }}<span>PSAT</span>
                </a>
            </li><!-- PSAT Nav End -->
            <li class="nav-item">
                <a id="scheduleList" class="nav-link collapsed"
                   href="{% url 'schedule:base' %}" hx-post="{% url 'schedule:base' %}">
                    {{ schedule_icon|safe }}<span>Schedule</span>
                </a>
            </li><!-- Schedule Nav End -->
        {% endif %}
    </ul>
    <div class="d-none d-md-block text-center">
        <button id="sidebarToggle" class="rounded-circle border-0"></button>
    </div>
</aside><!-- Sidebar End -->
