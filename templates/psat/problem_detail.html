{% extends 'detail.html' %}
{% load static %}
{% load psat_filter %}

{% block head_title %}{{ info.title }}{% endblock head_title %}

{% block main %}
<!-- Main Content Start -->
<section id="{{ info.target_id }}" class="">
    <div id="info" style="display: none;">{{ info|json_script:info }}</div>
    <section class="container-fluid mb-0 my-4">
        <div class="row d-flex align-items-center flex-wrap justify-content-center justify-content-sm-between">
            <div class="col-auto d-flex flex-wrap align-content-center justify-content-center">
                <div class="font-weight-bold text-primary text-nowrap m-0">{{ info.title }}</div>
            </div>
            <div class="col-12 col-sm-auto p-0 d-flex justify-content-center">
                <div class="px-1">
                    {% include 'psat/snippets/icon_like.html' %}
                </div>
                <div class="px-1 text-nowrap">
                    {% include 'psat/snippets/icon_rate.html' %}
                </div>
                <div class="px-1">
                    {% include 'psat/snippets/icon_answer.html' %}
                </div>
            </div>
            <div class="col-12 col-sm-auto ml-sm-auto d-flex justify-content-center justify-content-sm-end align-content-center px-0">
                <div class="input-group justify-content-center" role="navigation" aria-label="detail-navigation">
                    {% include 'psat/snippets/detail_navigation.html' %}
                    {% include 'psat/snippets/detail_filter_container.html' %}
                </div>
            </div>
        </div>
    </section>
    <article class="mx-0 main-article">
        <!-- Content Row Start -->
        <div class="row">
            <section class="col-12 mb-4">
                <div class="card h-100">
                    <div class="card-body">
                        <table class="table mb-4">
                        {% if problem %}
                            <thead>
                                <tr>
                                    <th class="px-0">
                                        <div class="problem-box" role="textbox" aria-label="question">
                                            <div class="problem-number">
                                                <h6 class="font-weight-bold m-0" style="line-height:1.5rem;">
                                                    ë¬¸&nbsp;{{ problem.problem_number|add_space }}.
                                                </h6>
                                            </div>
                                            <div class="problem-question">
                                                <h6 class="font-weight-bold m-0" style="line-height:1.5rem;">
                                                    {{ problem.problem_question }}
                                                </h6>
                                            </div>
                                        </div>
                                    </th>
                                </tr>
                            </thead>
                            <tbody class="text-center">
                                <tr>
                                    <td class="px-0">
                                        <div class="d-flex justify-content-end">
                                            {% include 'psat/snippets/detail_answer_button.html' %}
                                        </div>
                                        <div class="d-flex flex-wrap align-items-start" role="figure" aria-label="problem-image">
                                            {% csrf_token %}
                                        {% if problem.image_file.tag1 == 'Preparing Image' %}
                                            <div class="col-12 p-0">
                                                <img class="problem-image" src="{{ problem.image_file.name1 }}" alt="{{ problem.image_file.tag1 }}"/>
                                            </div>
                                        {% else %}
                                            <div class="col-12 col-lg-6 p-0">
                                                <img class="problem-image" src="{{ problem.image_file.name1 }}" alt="{{ problem.image_file.tag1 }}"/>
                                            </div>
                                        {% if problem.image_file.name2 %}
                                            <div class="col-12 col-lg-6 p-0">
                                                <img class="problem-image" src="{{ problem.image_file.name2 }}" alt="{{ problem.image_file.tag2 }}"/>
                                            </div>
                                        {% endif %}
                                        {% endif %}
                                        </div>
                                    </td>
                                </tr>
                            </tbody>
                        {% endif %}
                        </table>
    {#                    {% include 'psat/problem_tags.html' %}#}
                    </div>
                </div>
            </section>
        </div>
        <!-- Content Row End -->
    </article>
</section>
<!-- Main Content End -->
{% endblock %}

{% block footer %}
    {% include 'psat/../snippets/footer.html' %}
{% endblock %}

{% block page_script %}
    <script type="module" src="{% static 'js/psat.js' %}"></script>
{% endblock %}
