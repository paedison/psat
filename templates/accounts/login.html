{% extends 'account/base.html' %}
{% load static %}
{% load socialaccount %}
{% providers_media_js %}

{% block title %}로그인{% endblock %}
{% block main_image %}<div class="col-lg-6 d-none d-lg-block bg-login-image"></div>{% endblock %}

{% block main_content %}
<div class="col-lg-6">
    <div class="p-5">
        <div class="text-center">
            <h1 class="h4 text-gray-900 mb-4">환영합니다!</h1>
        </div>

        <form method="post" action="{% url 'login' %}" class="user">
            {% csrf_token %}
            <input type="hidden" name="next" value="{% url 'index' %}"> {# 로그인 성공 후 이동하는 URL #}
            {% include "form_errors.html" %} {# 오류 메시지 #}

            <div class="form-group">
                <input type="text" class="form-control form-control-user" name="username" id="username"
                       value="{{ form.email.value|default_if_none:'' }}"
                       placeholder="이메일을 입력해주세요">
            </div>
            <div class="form-group">
                <input type="password" class="form-control form-control-user" name="password" id="password"
                       value="{{ form.password.value|default_if_none:'' }}"
                       placeholder="비밀번호를 입력해주세요">
            </div>

            {% comment %}
            <div class="form-group">
                <div class="custom-control custom-checkbox small">
                    <input type="checkbox" class="custom-control-input" id="customCheck">
                    <label class="custom-control-label" for="customCheck">Remember
                        Me</label>
                </div>
            </div>
            {% endcomment %}

            <button type="submit" class="btn btn-primary btn-user btn-block">로그인</button>

            <hr>
            <a href="{% provider_login_url 'google' method='oauth2' %}?prompt=select_account" class="btn btn-google btn-user btn-block">
                Google 계정으로 계속하기
            </a>
            {% comment %}
            <a href="index.html" class="btn btn-facebook btn-user btn-block">
                <i class="fab fa-facebook-f fa-fw"></i> Login with Facebook
            </a>
            {% endcomment %}

        </form>
        <hr>
        <div class="text-center">
            <a class="small" href="{% url 'password_reset' %}">비밀번호를 잊으셨나요?</a>
        </div>
        <div class="text-center">
            <a class="small" href="{% url 'signup' %}">회원 가입!</a>
        </div>
    </div>
</div>
{% endblock %}
